<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAWK SUJAL SPAMMER v9</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body{background:linear-gradient(135deg,#667eea,#764ba2);color:white;min-height:100vh}
        .card{background:rgba(0,0,0,0.7);border-radius:20px}
        .console{background:#000;color:#0f0;height:480px;overflow-y:auto;padding:15px;font-family:Courier New;border-radius:12px}
        .console::-webkit-scrollbar{width:8px}.console::-webkit-scrollbar-thumb{background:#0f0;border-radius:10px}
    </style>
</head>
<body>
<div class="container py-4">
    <h1 class="text-center display-5">HAWK SUJAL SPAMMER v9</h1>
    <div class="text-center mb-3">
        <span class="badge bg-danger fs-5">STATUS: {{ status }}</span>
        <span class="badge bg-success fs-5 ms-2">SENT: {{ total_sent }}</span>
        <span class="badge bg-info fs-5 ms-2">THREADS: {{ threads }}</span>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card p-4">
                <form method="POST">
                    <select name="input_mode" class="form-select mb-3" onchange="this.form.submit()">
                        <option value="username" {% if input_mode == "username" %}selected{% endif %}>Username + Password</option>
                        <option value="session" {% if input_mode == "session" %}selected{% endif %}>Session ID (2FA Bypass)</option>
                    </select>

                    {% if input_mode == "username" %}
                    <div class="row g-3 mb-3">
                        <div class="col-md-6"><input type="text" name="username" class="form-control bg-dark text-white" placeholder="Username" value="{{ username }}" required></div>
                        <div class="col-md-6"><input type="password" name="password" class="form-control bg-dark text-white" placeholder="Password" required></div>
                    </div>
                    {% else %}
                    <textarea name="session_json" class="form-control bg-dark text-white mb-3" rows="6" placeholder='{"authorization_data": {"sessionid": "12345%3Aabc..."} }' required>{{ session_json }}</textarea>
                    <small class="text-warning">Local mein client.login() karo → print(client.get_settings()) → sirf "authorization_data" wala part copy karo</small>
                    {% endif %}

                    <input type="number" name="thread_id" class="form-control bg-dark text-white mb-3" placeholder="Thread ID" value="{{ thread_id }}" required>
                    <textarea name="messages" class="form-control bg-dark text-white mb-3" rows="6" placeholder="Ek line ek message" required>{{ messages }}</textarea>

                    <div class="row g-3 mb-3">
                        <div class="col"><input type="number" step="0.1" name="delay" class="form-control" placeholder="Delay" value="{{ delay }}"></div>
                        <div class="col"><input type="number" name="cycle_count" class="form-control" placeholder="After msgs" value="{{ cycle_count }}"></div>
                        <div class="col"><input type="number" name="cycle_break" class="form-control" placeholder="Break sec" value="{{ cycle_break }}"></div>
                        <div class="col">
                            <select name="threads" class="form-select bg-dark text-white">
                                <option value="1" {% if threads_num == 1 %}selected{% endif %}>1</option>
                                <option value="2" {% if threads_num == 2 %}selected{% endif %}>2</option>
                                <option value="3" {% if threads_num == 3 %}selected{% endif %}>3</option>
                                <option value="4" {% if threads_num == 4 %}selected{% endif %}>4</option>
                                <option value="5" {% if threads_num == 5 %}selected{% endif %}>5</option>
                            </select>
                        </div>
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-danger btn-lg px-5">START BOMBING</button>
                        <a href="/stop" class="btn btn-warning btn-lg px-5 ms-2">STOP</a>
                        <a href="/clear" class="btn btn-secondary btn-lg px-5 ms-2">CLEAR</a>
                    </div>
                </form>
            </div>

            <div class="card mt-4">
                <div class="console" id="console">
                    {% for log in logs %}
                    <div>{{ log.time }} → {{ log.msg }}</div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function updateConsole(){fetch(location.href).then(r=>r.text()).then(h=>{const d=new DOMParser().parseFromString(h,"text/html");const c=d.getElementById("console").innerHTML;document.getElementById("console").innerHTML=c;document.getElementById("console").scrollTop=document.getElementById("console").scrollHeight})}
setInterval(updateConsole,3000); updateConsole();
</script>
</body>
                                  </html>
